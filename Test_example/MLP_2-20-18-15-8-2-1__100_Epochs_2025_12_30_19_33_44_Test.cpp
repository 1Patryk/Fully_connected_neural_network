#include <iostream>
#include <vector>
#include <cmath>

int Beta = 1;

float Unipolar_sigmoidal_function(float e)
{
	return static_cast<float>(1.0 / (1.0 + exp(-(Beta) * e)));
}

int main()
{
	std::vector <float> input = {  }; // enter value
	std::vector <float> output =
	{
		0,
	};

	float input_0_max = 81;
	float input_0_min = 8;
	float input_1_max = 4;
	float input_1_min = 0.5;

	float output_0_max = -0.00118075;
	float output_0_min = -0.0465985;

	std::vector <int> Number_of_neurons_in_hidden_layers =
	{
		20,
		18,
		15,
		8,
		2,
	};

	std::vector <int>& Number_of_neurons_in_hidden_layers_ref = Number_of_neurons_in_hidden_layers;

	float Vector_of_weights_training[808] =
	{
		-0.0677009,
		-0.429029,
		-0.116228,
		0.349586,
		-0.050902,
		-0.346948,
		0.351893,
		0.00110124,
		-0.0960646,
		-0.274495,
		-0.190837,
		0.127985,
		0.368478,
		-0.349897,
		0.0530148,
		0.279316,
		-0.479324,
		-0.0782024,
		0.0258303,
		-0.281616,
		0.365546,
		0.431405,
		0.194212,
		0.482788,
		-0.0333656,
		-0.197662,
		-0.101006,
		0.126542,
		-0.202799,
		0.154074,
		-0.164592,
		0.345267,
		0.306082,
		-0.00577234,
		0.094404,
		-0.0516378,
		0.493076,
		-0.139107,
		0.0121464,
		0.0822596,
		-0.241651,
		-0.134332,
		0.0549863,
		-0.484556,
		-0.381741,
		0.224507,
		-0.209803,
		-0.182511,
		0.250073,
		-0.0265941,
		-0.0187454,
		-0.324121,
		-0.32058,
		-0.194535,
		-0.359065,
		-0.42676,
		0.209793,
		-0.400297,
		0.387598,
		-0.472267,
		0.473123,
		0.183901,
		-0.014507,
		0.282308,
		0.0522017,
		-0.420768,
		-0.197223,
		0.153119,
		0.359484,
		-0.269131,
		0.481529,
		0.333134,
		-0.470998,
		-0.29755,
		0.299391,
		-0.137317,
		0.148203,
		-0.028175,
		-0.173616,
		-0.440979,
		0.349019,
		0.261935,
		-0.28584,
		-0.13078,
		-0.329439,
		0.00646899,
		0.272067,
		0.413949,
		0.127677,
		-0.249807,
		-0.412238,
		-0.155155,
		0.00408766,
		-0.114772,
		0.0952115,
		0.227257,
		-0.233571,
		-0.406283,
		0.351125,
		-0.00616746,
		-0.310261,
		0.223808,
		-0.349693,
		0.35082,
		0.387362,
		0.346621,
		0.4571,
		-0.195431,
		-0.192626,
		-0.189256,
		0.0141305,
		0.0543334,
		0.502227,
		-0.24234,
		-0.124064,
		-0.0228668,
		-0.241284,
		-0.150268,
		-0.00951279,
		0.311085,
		-0.150259,
		0.495153,
		0.398695,
		0.298073,
		-0.0474704,
		0.171846,
		-0.0424064,
		0.223036,
		-0.37539,
		-0.0255885,
		-0.456155,
		-0.0608477,
		-0.0120912,
		-0.440591,
		0.151778,
		-0.12311,
		0.452586,
		0.367006,
		-0.0766682,
		-0.211692,
		-0.0423931,
		-0.237675,
		-0.100651,
		0.189425,
		-0.0632863,
		0.391476,
		0.14948,
		0.329366,
		0.253418,
		-0.0215675,
		-0.330385,
		-0.491571,
		-0.45516,
		0.411988,
		-0.124325,
		0.379998,
		0.227584,
		-0.334747,
		-0.425646,
		-0.371421,
		-0.32912,
		-0.423774,
		0.387891,
		0.126502,
		-0.0530686,
		0.409855,
		0.130343,
		0.334543,
		0.492099,
		0.247421,
		-0.443735,
		0.373862,
		-0.175361,
		-0.337701,
		0.319169,
		0.0998942,
		0.436536,
		-0.355914,
		-0.460895,
		0.431414,
		0.22746,
		0.414892,
		-0.118186,
		-0.396757,
		0.300665,
		0.466893,
		-0.429869,
		-0.343923,
		0.405235,
		0.147078,
		0.162973,
		0.459709,
		-0.297514,
		0.384725,
		0.299497,
		0.0426407,
		-0.371791,
		0.330413,
		0.480256,
		-0.204175,
		-0.279048,
		-0.156785,
		0.348181,
		-0.0934536,
		-0.104549,
		-0.386161,
		0.0782725,
		0.260043,
		0.222412,
		-0.0562474,
		0.314091,
		-0.0856513,
		-0.332963,
		0.265111,
		-0.112185,
		-0.235734,
		-0.10562,
		0.136709,
		0.374561,
		0.0565447,
		0.273713,
		0.215104,
		-0.0781849,
		0.295673,
		0.265267,
		-0.22693,
		-0.175762,
		-0.324092,
		0.320338,
		0.266499,
		0.149287,
		0.107203,
		-0.352776,
		0.421905,
		-0.115996,
		0.117726,
		-0.241125,
		-0.372223,
		0.356984,
		-0.38056,
		-0.153871,
		0.375209,
		-0.490857,
		-0.00638167,
		-0.377447,
		0.20957,
		0.29164,
		-0.474142,
		0.137114,
		-0.412546,
		0.48099,
		0.282088,
		0.376658,
		-0.313861,
		0.129306,
		0.308551,
		0.0112833,
		-0.0661401,
		0.305448,
		-0.0628791,
		0.480739,
		-0.179454,
		0.434158,
		-0.0358977,
		-0.262572,
		0.0558597,
		0.06354,
		-0.19645,
		0.0379105,
		0.215817,
		0.218008,
		0.0613076,
		-0.181485,
		0.108097,
		-0.260133,
		0.0739449,
		-0.322253,
		0.259609,
		0.024314,
		-0.413282,
		-0.39741,
		0.0556013,
		-0.428878,
		-0.452704,
		-0.256264,
		-0.0676768,
		0.0320779,
		-0.161033,
		0.358884,
		0.502884,
		-0.0777777,
		0.0816623,
		0.359093,
		-0.443991,
		-0.245574,
		0.450937,
		-0.245162,
		-0.341487,
		-0.493619,
		-0.33019,
		-0.216637,
		-0.15513,
		0.156721,
		-0.362686,
		0.211012,
		-0.421441,
		-0.228455,
		0.152643,
		-0.251417,
		-0.309274,
		0.436236,
		0.308351,
		0.418929,
		-0.302085,
		-0.0581852,
		-0.495628,
		0.352669,
		-0.384924,
		-0.107893,
		-0.288367,
		0.160542,
		-0.0501165,
		-0.133199,
		0.466834,
		0.365138,
		0.461588,
		0.315732,
		-0.146198,
		0.402392,
		-0.35313,
		0.281409,
		-0.398082,
		0.00429589,
		-0.398752,
		0.00579349,
		0.179175,
		0.158981,
		-0.275274,
		0.446234,
		0.427489,
		-0.16034,
		-0.34576,
		-0.179464,
		0.412437,
		-0.0198713,
		-0.382067,
		0.341222,
		-0.411696,
		0.444404,
		0.299253,
		0.304192,
		0.369464,
		-0.0955782,
		-0.0181759,
		-0.440364,
		-0.286705,
		0.495718,
		0.244378,
		-0.452082,
		-0.395738,
		-0.0808189,
		0.487451,
		0.0934092,
		0.00753139,
		-0.362952,
		-0.272619,
		0.28108,
		0.351548,
		-0.173772,
		-0.0614173,
		0.149528,
		0.0308849,
		-0.205433,
		-0.0012505,
		-0.0496818,
		-0.227024,
		-0.044542,
		-0.109719,
		0.155618,
		0.42014,
		-0.377131,
		0.213847,
		0.0195909,
		0.326654,
		-0.282597,
		0.175885,
		-0.0160501,
		-0.0895862,
		-0.138428,
		-0.386889,
		-0.187517,
		-0.357307,
		-0.44591,
		0.201981,
		-0.366981,
		-0.264839,
		0.441363,
		0.106435,
		0.246208,
		0.0250879,
		0.395034,
		-0.338798,
		0.0667057,
		-0.144746,
		0.0452208,
		0.300099,
		-0.446458,
		-0.355478,
		0.222714,
		-0.359165,
		-0.417139,
		0.122607,
		0.240905,
		0.252311,
		-0.00733314,
		0.200615,
		0.451591,
		-0.403728,
		0.364972,
		0.268977,
		0.11612,
		-0.032038,
		0.21976,
		-0.141149,
		-0.443872,
		-0.329187,
		0.194347,
		0.438525,
		-0.168708,
		0.182841,
		0.101849,
		0.429503,
		0.336975,
		-0.236221,
		0.312173,
		-0.389791,
		-0.46177,
		-0.27223,
		-0.256418,
		-0.121405,
		0.215925,
		-0.0173269,
		-0.0611881,
		-0.122836,
		0.0592781,
		0.36185,
		-0.0561823,
		-0.483572,
		0.136327,
		-0.306911,
		-0.0824015,
		0.325092,
		0.410705,
		-0.187614,
		0.0173691,
		0.411423,
		0.0131514,
		0.475478,
		0.00241387,
		-0.485359,
		0.43799,
		-0.252817,
		-0.33476,
		0.319054,
		0.229651,
		-0.339811,
		0.0171539,
		0.377603,
		0.274415,
		-0.0826513,
		0.39612,
		-0.330981,
		-0.318425,
		0.346503,
		-0.190112,
		-0.0838031,
		0.337821,
		0.18038,
		0.165673,
		-0.388669,
		-0.0863749,
		0.359749,
		0.283956,
		0.11467,
		0.0465995,
		0.362429,
		-0.164929,
		-0.156242,
		-0.135517,
		0.347378,
		-0.234936,
		0.307976,
		-0.242153,
		-0.301218,
		0.130495,
		0.375375,
		0.246009,
		-0.147376,
		-0.498522,
		-0.153645,
		-0.0573311,
		-0.104907,
		0.295566,
		-0.301099,
		0.24819,
		0.119907,
		0.0673091,
		0.0097545,
		-0.201657,
		0.457782,
		-0.258251,
		0.279987,
		-0.0709534,
		0.457358,
		0.173441,
		0.183357,
		-0.320626,
		0.0461972,
		0.19165,
		0.489004,
		-0.0627646,
		-0.025814,
		-0.0974176,
		0.473863,
		0.327599,
		0.114579,
		-0.446861,
		0.488367,
		0.265208,
		0.101351,
		-0.36007,
		-0.416291,
		-0.350835,
		-0.368256,
		-0.0422499,
		0.0922073,
		0.393153,
		-0.326654,
		0.440356,
		-0.236938,
		-0.435682,
		-0.277585,
		0.443396,
		-0.242854,
		-0.410467,
		0.246558,
		-0.0616532,
		-0.468012,
		-0.275279,
		0.481235,
		0.25795,
		-0.471196,
		-0.228816,
		-0.00208573,
		0.318948,
		0.467781,
		0.486453,
		0.214842,
		0.20835,
		-0.256007,
		0.382098,
		0.433278,
		0.112461,
		0.362837,
		-0.21323,
		-0.0774339,
		0.302074,
		-0.445903,
		-0.366764,
		-0.221336,
		-0.369193,
		0.41081,
		-0.354942,
		0.0899146,
		0.466862,
		-0.378011,
		-0.318004,
		-0.339514,
		0.297211,
		0.265412,
		-0.388814,
		0.457525,
		-0.0408599,
		-0.382664,
		-0.311902,
		0.0201094,
		-0.283574,
		-0.272654,
		0.329898,
		0.0942643,
		0.487944,
		-0.358609,
		-0.0476723,
		0.0528639,
		0.487154,
		0.0772418,
		0.160422,
		0.186113,
		0.113632,
		0.46952,
		0.350368,
		-0.32174,
		0.0428617,
		-0.0563137,
		0.00256221,
		0.156652,
		-0.43619,
		0.319442,
		-0.368965,
		0.272482,
		0.123887,
		0.0841337,
		0.0898677,
		0.00818079,
		-0.229064,
		0.457393,
		0.465765,
		0.26844,
		0.433743,
		-0.246046,
		-0.0175508,
		0.271373,
		0.483707,
		0.269671,
		-0.34648,
		-0.324301,
		-0.447611,
		-0.261697,
		0.145441,
		-0.346859,
		0.298024,
		0.39636,
		0.030091,
		-0.361476,
		0.374817,
		-0.326225,
		-0.306006,
		-0.00721008,
		-0.372667,
		-0.335571,
		0.491069,
		-0.0068068,
		-0.134704,
		-0.176541,
		0.477474,
		-0.472789,
		-0.377673,
		-0.422685,
		-0.324397,
		-0.155721,
		-0.168132,
		-0.316927,
		-0.214904,
		-0.249048,
		-0.295988,
		-0.348238,
		0.231551,
		0.248838,
		-0.233,
		0.122504,
		-0.314028,
		0.455094,
		0.221642,
		-0.0540185,
		0.386572,
		0.249088,
		-0.326193,
		0.404488,
		0.317885,
		0.101946,
		0.0160281,
		0.250567,
		-0.0336389,
		0.407596,
		0.0258318,
		0.278412,
		-0.375657,
		-0.208769,
		-0.402393,
		0.499239,
		0.0059039,
		0.478343,
		-0.115268,
		-0.38616,
		0.251452,
		-0.401943,
		-0.139422,
		0.294741,
		-0.438234,
		-0.00217067,
		0.103501,
		0.275261,
		0.181558,
		-0.436202,
		-0.112921,
		0.482421,
		-0.000598788,
		-0.359706,
		0.00109016,
		-0.330981,
		-0.466685,
		0.0952763,
		-0.219164,
		-0.0139116,
		-0.342173,
		-0.308772,
		-0.192392,
		0.269387,
		-0.138988,
		-0.441669,
		-0.256571,
		-0.0668444,
		-0.232435,
		-0.440575,
		-0.0651292,
		0.269232,
		0.486164,
		-0.339585,
		0.361809,
		-0.104364,
		-0.243896,
		0.218023,
		-0.0896033,
		0.359702,
		-0.089485,
		-0.401667,
		-0.190186,
		0.0609479,
		-0.078884,
		-0.0106164,
		0.192835,
		-0.118183,
		-0.454406,
		-0.289572,
		-0.484378,
		-0.346504,
		0.161075,
		0.238152,
		0.0488007,
		0.0421393,
		-0.0451691,
		0.0431186,
		-0.0912785,
		0.431547,
		0.268939,
		-0.292457,
		0.506216,
		-0.437261,
		0.187897,
		0.119713,
		-0.45929,
		-0.27109,
		-0.281007,
		0.219293,
		0.00723635,
		-0.429114,
		0.25891,
		0.0664417,
		-0.462686,
		-0.460717,
		0.477453,
		0.0138339,
		0.393989,
		-0.42187,
		-0.211849,
		-0.144273,
		0.264266,
		-0.097395,
		0.341614,
		-0.30908,
		0.0723341,
		0.163559,
		-0.11355,
		0.16662,
		0.344934,
		-0.306021,
		0.0728786,
		0.272536,
		-0.0331232,
		0.513541,
		0.211155,
		-0.245932,
		0.455121,
		-0.325829,
		0.158493,
		0.0530426,
		-0.0795782,
		-0.0717885,
		0.349842,
		-0.376786,
		0.0490953,
		0.402497,
		-0.288238,
		0.480594,
		-0.0291785,
		0.413767,
		0.21067,
		0.381802,
		0.268978,
		0.265396,
		0.0891716,
		0.239355,
		0.424658,
		0.0556149,
		0.228544,
		0.315029,
		-0.501625,
		0.0293821,
	};

	float Vector_of_bias_weights_training[64] =
	{
		0.327717,
		-0.0909704,
		-0.161961,
		-0.283978,
		0.441723,
		-0.0117673,
		0.00883665,
		-0.41568,
		-0.0324776,
		0.410019,
		0.317638,
		0.262924,
		-0.327111,
		0.245304,
		-0.364759,
		0.338176,
		-0.490838,
		-0.207046,
		-0.483647,
		-0.0328046,
		-0.471293,
		0.400501,
		-0.220621,
		-0.150157,
		-0.33114,
		0.419564,
		-0.279632,
		-0.391477,
		0.102839,
		-0.1932,
		-0.178453,
		0.207819,
		0.177445,
		-0.0534409,
		0.421254,
		0.402376,
		0.438152,
		-0.101797,
		-0.37994,
		-0.446181,
		0.0824831,
		-0.387539,
		-0.177318,
		-0.40972,
		0.237586,
		-0.287162,
		-0.0301923,
		0.33494,
		0.1549,
		-0.200099,
		-0.0473925,
		-0.055038,
		-0.39122,
		0.10487,
		-0.36136,
		-0.269838,
		0.401657,
		-0.0591845,
		-0.375354,
		0.32341,
		-0.362827,
		0.0185135,
		-0.131864,
		0.278196,
	};

	// iterator
	int iter = 0;

	std::vector <float> Vector_of_neuron_values[66] = { };

	// input layer of neurons
	for (int i = 0; i <2; i++)
	{
		Vector_of_neuron_values[iter].push_back(0);
	}

	iter += 1;

	// hidden layers of neurons
	for (iter; iter <= 5; iter++)
	{
		for (int j = 0; j < Number_of_neurons_in_hidden_layers_ref[iter - 1]; j++)
		{
			Vector_of_neuron_values[iter].push_back(0);
		}
	}

	// output layer of neurons
	for (int i = 0; i < 1; i++)
	{
		Vector_of_neuron_values[iter].push_back(0);
	}

	Vector_of_neuron_values->shrink_to_fit();

	// capacity = amount of neurons
	for (int i = 0; i < Vector_of_neuron_values->capacity(); i++)
	{
		Vector_of_neuron_values[i].shrink_to_fit();
	}

	input[0] = (input[0]  - input_0_min) / (input_0_max -  input_0_min);
	input[1] = (input[1]  - input_1_min) / (input_1_max -  input_1_min);

	// Forward propagation

	// input layer
	for (int j = 0; j < 2; j++)
	{
		Vector_of_neuron_values[0][j] = input[j];
	}

	// hidden layers
	int it_weight = 0;
	int it_bias = 0;
	for (int k = 1; k < 5 + 1; k++)
	{
		for (int l = 0; l < Vector_of_neuron_values[k].capacity(); l++)
		{
			for (int m = 0; m < Vector_of_neuron_values[k - 1].capacity(); m++)
			{
				Vector_of_neuron_values[k][l] +=
				((Vector_of_neuron_values[k - 1][m] *
				Vector_of_weights_training[it_weight]));
				it_weight += 1;
			}

			Vector_of_neuron_values[k][l] = Unipolar_sigmoidal_function(
				Vector_of_neuron_values[k][l] +
				Vector_of_bias_weights_training[it_bias]);

			it_bias += 1;
		}
	}
	// output layer
	int it_prev_layer = 1 + 5;

	for (int n = 0; n < 1; n++)
	{
		for (int o = 0; o < Vector_of_neuron_values[it_prev_layer - 1].capacity(); o++)
		{
			Vector_of_neuron_values[it_prev_layer][n] +=
			(
				(Vector_of_neuron_values[it_prev_layer - 1][o] * Vector_of_weights_training[it_weight])
			);

			it_weight += 1;
		}

		Vector_of_neuron_values[it_prev_layer][n] = Unipolar_sigmoidal_function
		(
			Vector_of_neuron_values[it_prev_layer][n] +
			Vector_of_bias_weights_training[it_bias]
		);

		it_bias += 1;
	}

	output[0] = Vector_of_neuron_values[it_prev_layer][0];

	output[0] = output[0]  * (output_0_max - output_0_min) +  output_0_min;
	std::cout << "output[0] = " << output[0] << std::endl;

	return 0;
}
