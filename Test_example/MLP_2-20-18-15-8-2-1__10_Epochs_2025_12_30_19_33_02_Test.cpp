#include <iostream>
#include <vector>
#include <cmath>

int Beta = 1;

float Unipolar_sigmoidal_function(float e)
{
	return static_cast<float>(1.0 / (1.0 + exp(-(Beta) * e)));
}

int main()
{
	std::vector <float> input = {  }; // enter value
	std::vector <float> output =
	{
		0,
	};

	float input_0_max = 81;
	float input_0_min = 8;
	float input_1_max = 4;
	float input_1_min = 0.5;

	float output_0_max = -0.00157256;
	float output_0_min = -0.0467309;

	std::vector <int> Number_of_neurons_in_hidden_layers =
	{
		20,
		18,
		15,
		8,
		2,
	};

	std::vector <int>& Number_of_neurons_in_hidden_layers_ref = Number_of_neurons_in_hidden_layers;

	float Vector_of_weights_training[808] =
	{
		-0.075958,
		-0.433488,
		-0.389652,
		0.221666,
		0.338774,
		0.371348,
		0.454193,
		-0.449421,
		0.2338,
		0.422154,
		-0.097595,
		-0.344952,
		0.3539,
		-0.442132,
		-0.354857,
		-0.30721,
		-0.105079,
		-0.301981,
		-0.355439,
		-0.0926131,
		0.0348427,
		-0.249247,
		0.0485226,
		0.0559982,
		-0.4862,
		-0.36078,
		-0.276416,
		-0.388896,
		-0.111549,
		-0.346232,
		-0.421445,
		-0.238758,
		0.0513257,
		0.277127,
		0.325932,
		0.28938,
		-0.021552,
		-0.341208,
		-0.280983,
		0.408514,
		0.202371,
		-0.442284,
		0.406171,
		0.123849,
		0.0822469,
		0.164581,
		-0.391239,
		0.291433,
		-0.487698,
		0.125819,
		-0.0989278,
		-0.484648,
		0.255624,
		-0.0623846,
		0.140343,
		-0.40066,
		0.406561,
		0.000590808,
		0.464016,
		-0.261082,
		-0.0462595,
		0.3522,
		-0.269869,
		-0.283946,
		-0.375105,
		-0.0792041,
		-0.425847,
		0.157549,
		0.369078,
		-0.422738,
		-0.104557,
		-0.140232,
		-0.216556,
		-0.0500608,
		0.31804,
		0.340659,
		0.193922,
		-0.449659,
		0.465748,
		-0.241635,
		0.173962,
		-0.0123079,
		0.244415,
		-0.500248,
		-0.248031,
		0.326455,
		-0.147542,
		-0.345231,
		0.159481,
		-0.361785,
		0.445674,
		0.498313,
		-0.197877,
		-0.216268,
		0.365844,
		-0.0257649,
		-0.220078,
		-0.149963,
		0.0109534,
		-0.245746,
		0.377353,
		0.0830502,
		0.120276,
		0.141404,
		0.045033,
		-0.349418,
		0.454545,
		-0.206351,
		-0.274402,
		0.284656,
		0.259529,
		0.339161,
		-0.476303,
		0.493751,
		0.0678998,
		0.49534,
		0.438289,
		0.0608236,
		-0.392876,
		-0.00158921,
		-0.193578,
		0.266911,
		-0.185048,
		0.415871,
		-0.358798,
		0.0629443,
		0.0266225,
		0.171435,
		-0.364627,
		-0.367256,
		0.314471,
		-0.281896,
		0.452754,
		-0.0933132,
		-0.166123,
		0.45848,
		0.307422,
		0.272558,
		0.0904394,
		-0.432347,
		0.295056,
		-0.411811,
		0.0109465,
		0.199957,
		0.382015,
		-0.140532,
		-0.0340027,
		-0.428722,
		0.283101,
		-0.426812,
		-0.260986,
		-0.109939,
		-0.260003,
		-0.0716756,
		-0.0146381,
		0.162222,
		0.082237,
		0.233558,
		-0.465805,
		-0.0706062,
		-0.448177,
		0.214412,
		-0.199726,
		0.301814,
		-0.422695,
		0.471376,
		0.106989,
		0.0260478,
		-0.258349,
		-0.477614,
		-0.131351,
		0.0234941,
		0.477711,
		0.344641,
		-0.473164,
		0.260743,
		0.221538,
		-0.45337,
		0.241839,
		0.0498754,
		-0.21672,
		-0.292516,
		0.066233,
		0.32856,
		0.376347,
		0.483469,
		0.0208752,
		-0.36326,
		0.362149,
		-0.266583,
		0.492151,
		0.148966,
		-0.263684,
		0.494775,
		-0.314616,
		-0.359902,
		-0.321732,
		0.0977501,
		0.407467,
		0.0859028,
		0.395184,
		-0.028322,
		-0.127365,
		-0.019168,
		0.424038,
		-0.0341113,
		0.329442,
		0.174229,
		0.218891,
		0.0744955,
		-0.498263,
		0.268796,
		-0.493936,
		-0.0116353,
		0.062455,
		-0.241545,
		-0.065079,
		-0.247325,
		0.202233,
		0.29179,
		-0.161275,
		0.460247,
		-0.27673,
		0.373223,
		0.178353,
		-0.313193,
		-0.456821,
		0.344326,
		-0.296484,
		-0.490235,
		0.285508,
		0.497907,
		-0.02922,
		0.274441,
		0.0435725,
		-0.445342,
		0.35035,
		0.366014,
		0.0666058,
		-0.265763,
		0.154608,
		-0.486996,
		0.246545,
		-0.0362645,
		-0.217901,
		0.394538,
		0.0929586,
		0.233726,
		0.173122,
		-0.00901072,
		0.342439,
		0.0947414,
		0.317634,
		-0.0712982,
		-0.433781,
		-0.114704,
		-0.255185,
		-0.473876,
		-0.23758,
		0.0991467,
		0.0529266,
		-0.180561,
		-0.217171,
		-0.0566534,
		-0.239695,
		-0.219207,
		-0.091984,
		0.206101,
		0.0902337,
		-0.386992,
		0.396609,
		0.0897558,
		0.274014,
		0.32788,
		-0.11005,
		-0.451061,
		-0.378036,
		-0.36558,
		0.370722,
		-0.259852,
		0.224137,
		0.418043,
		0.122641,
		0.363272,
		0.0619431,
		-0.047591,
		0.19717,
		-0.0875042,
		0.316717,
		-0.189164,
		-0.214189,
		-0.442932,
		0.290104,
		0.158455,
		0.380566,
		0.484957,
		-0.321409,
		0.0719482,
		0.271374,
		0.155914,
		-0.173959,
		-0.0312347,
		-0.405224,
		0.0718954,
		-0.256676,
		-0.0907727,
		-0.176931,
		0.264411,
		-0.193244,
		-0.238754,
		0.421476,
		-0.315479,
		0.448954,
		0.0639354,
		-0.117659,
		0.062652,
		0.166372,
		-0.0538776,
		-0.478579,
		-0.300826,
		-0.163461,
		0.313996,
		0.136006,
		0.389092,
		-0.277009,
		0.450058,
		-0.41944,
		0.337819,
		0.370366,
		0.254773,
		-0.4756,
		0.393515,
		-0.296983,
		-0.482233,
		-0.356781,
		0.225175,
		0.436525,
		0.438812,
		0.094119,
		0.319701,
		-0.322886,
		0.112352,
		-0.395522,
		-0.324468,
		-0.430603,
		0.168945,
		0.396876,
		-0.417816,
		-0.0480165,
		-0.256591,
		-0.450986,
		0.155628,
		-0.174147,
		0.392616,
		0.3416,
		-0.191063,
		0.490293,
		0.432822,
		0.255661,
		-0.131985,
		0.0541403,
		-0.0289369,
		0.23597,
		-0.422562,
		-0.131559,
		0.20583,
		0.230771,
		0.124644,
		-0.111293,
		-0.00475224,
		0.0181422,
		-0.431058,
		-0.446409,
		0.254188,
		0.212813,
		0.410036,
		-0.0265078,
		-0.469677,
		0.468398,
		0.128656,
		-0.440869,
		-0.346207,
		-0.493541,
		0.0172086,
		-0.353613,
		-0.231266,
		-0.337969,
		-0.357837,
		-0.153023,
		-0.132404,
		-0.313635,
		-0.029229,
		0.376118,
		0.374735,
		0.388873,
		-0.333543,
		0.208432,
		0.0232783,
		-0.129654,
		0.171345,
		-0.0383014,
		0.311131,
		-0.248565,
		-0.289314,
		0.482517,
		-0.384028,
		-0.122953,
		-0.445957,
		-0.496134,
		-0.391872,
		-0.372319,
		0.427266,
		0.106297,
		0.385401,
		-0.269958,
		-0.358359,
		-0.387837,
		-0.0736368,
		-0.315966,
		-0.131812,
		-0.402784,
		0.095442,
		-0.182037,
		0.0245218,
		0.38231,
		0.32273,
		0.496661,
		-0.193091,
		0.146413,
		0.252996,
		-0.00389241,
		-0.476525,
		-0.0413838,
		-0.0410773,
		0.182913,
		-0.156279,
		-0.490139,
		0.297955,
		-0.14023,
		-0.221934,
		0.418031,
		0.309998,
		-0.0693968,
		-0.219747,
		0.00297631,
		-0.261041,
		-0.163772,
		-0.379858,
		-0.494377,
		0.323434,
		0.453375,
		-0.157643,
		0.333414,
		0.461851,
		0.215125,
		-0.0206343,
		-0.192935,
		0.3033,
		0.496413,
		0.182786,
		0.165186,
		0.2252,
		0.114361,
		0.277311,
		0.44419,
		0.264164,
		-0.229114,
		-0.239919,
		0.285832,
		0.332025,
		0.214462,
		-0.0868887,
		0.153159,
		-0.203398,
		-0.146905,
		-0.0959485,
		0.357126,
		0.180094,
		0.031584,
		0.173286,
		-0.368739,
		0.170483,
		-0.0421118,
		0.298757,
		0.458499,
		0.299519,
		0.463834,
		-0.41183,
		0.307013,
		0.424627,
		-0.0867726,
		0.0578105,
		0.49153,
		-0.160784,
		-0.296994,
		0.113221,
		0.387559,
		0.158662,
		0.0256591,
		0.42767,
		0.259101,
		0.271805,
		-0.276722,
		0.167732,
		-0.0846835,
		-0.175901,
		0.435733,
		0.42157,
		0.130172,
		0.433706,
		-0.461591,
		-0.482937,
		0.268114,
		0.261942,
		0.0437458,
		0.272624,
		0.0164666,
		-0.252002,
		-0.0491433,
		0.0541432,
		-0.423986,
		0.053858,
		0.499682,
		-0.144291,
		0.239823,
		-0.47828,
		0.0485466,
		-0.416896,
		-0.347121,
		0.201559,
		-0.131949,
		-0.269263,
		-0.44298,
		-0.332999,
		-0.122116,
		0.455507,
		0.479076,
		0.093689,
		-0.178326,
		-0.263659,
		-0.382052,
		-0.0621797,
		-0.241644,
		0.34338,
		0.231963,
		0.295225,
		-0.291595,
		0.0823617,
		0.0553076,
		-0.233592,
		0.373365,
		0.359031,
		-0.292551,
		-0.249665,
		0.351285,
		0.409888,
		-0.371135,
		-0.309717,
		-0.498791,
		0.276153,
		0.0201617,
		-0.087914,
		0.19175,
		0.165594,
		-0.293148,
		-0.340595,
		-0.0821587,
		-0.135042,
		0.0397941,
		0.00887151,
		-0.346277,
		0.202596,
		-0.194395,
		0.246686,
		0.229001,
		-0.169525,
		-0.0882234,
		0.422603,
		0.0236621,
		0.329569,
		0.188502,
		-0.167433,
		-0.439764,
		0.143986,
		0.451337,
		-0.13006,
		-0.0428947,
		-0.170518,
		-0.352878,
		-0.0367814,
		0.475646,
		0.307017,
		0.157072,
		-0.129343,
		0.0450761,
		-0.363512,
		0.00704933,
		0.404698,
		0.340858,
		0.405408,
		-0.483218,
		0.498697,
		0.0918753,
		0.433472,
		-0.253999,
		0.112505,
		0.448244,
		-0.40852,
		0.391834,
		0.19136,
		-0.480379,
		-0.273093,
		0.13908,
		0.436016,
		0.194186,
		-0.221345,
		0.32152,
		-0.49517,
		0.434441,
		0.103513,
		0.149942,
		-0.316664,
		-0.457899,
		0.185125,
		-0.399985,
		-0.235966,
		-0.384277,
		-0.302738,
		0.0668843,
		-0.483888,
		0.0351567,
		-0.0663162,
		-0.0329694,
		0.152745,
		-0.00766767,
		-0.381659,
		0.371711,
		-0.0526181,
		0.318011,
		-0.377797,
		0.36919,
		-0.240495,
		0.397273,
		-0.404296,
		0.3555,
		0.446081,
		0.116466,
		-0.0251579,
		-0.427871,
		-0.483998,
		0.145627,
		0.30293,
		-0.387812,
		0.491011,
		0.326378,
		0.459755,
		0.33605,
		0.213775,
		-0.347102,
		0.352753,
		-0.0672555,
		0.283625,
		-0.374889,
		0.189093,
		0.318882,
		0.0968196,
		-0.461098,
		0.0536971,
		-0.276786,
		0.167136,
		-0.25905,
		-0.304197,
		0.235395,
		-0.43887,
		-0.45763,
		-0.472617,
		0.132954,
		0.325371,
		0.0160904,
		-0.389159,
		-0.346845,
		0.143809,
		0.354438,
		-0.346301,
		-0.500236,
		0.0247328,
		0.464685,
		-0.0372255,
		-0.345333,
		0.196226,
		-0.0157592,
		0.135966,
		0.428062,
		-0.196788,
		-0.197572,
		-0.175132,
		0.213941,
		-0.401961,
		-0.447282,
		0.0954985,
		-0.00247845,
		0.467978,
		-0.165275,
		0.311636,
		-0.103778,
		0.174127,
		-0.310339,
		0.0804309,
		0.417447,
		0.0314585,
		-0.107963,
		-0.294396,
		-0.0804978,
		0.383959,
		-0.174676,
		0.299768,
		-0.239147,
		-0.00577192,
		0.393721,
		0.454453,
		0.196817,
		0.0269804,
		0.0615069,
		0.479554,
		0.0317108,
		-0.335257,
		-0.333297,
		0.142101,
		0.0871059,
		-0.105657,
		0.322603,
		-0.302592,
		-0.399963,
		0.336648,
		0.185015,
		0.113456,
		0.14982,
		0.170795,
		0.356194,
		-0.283673,
		-0.404681,
		-0.284182,
		-0.367884,
		0.403337,
		0.403142,
		-0.257615,
		0.169417,
		-0.432883,
		0.402598,
		-0.0327064,
		-0.27762,
		-0.227638,
		0.274158,
		-0.102156,
		0.311527,
		0.484063,
		0.058798,
		0.0108353,
		0.305829,
		-0.338425,
		0.233926,
		0.42262,
		-0.480776,
		-0.496154,
		-0.31206,
		0.207821,
		0.0150128,
		-0.394328,
		-0.461064,
		-0.389632,
		0.205187,
		-0.269278,
		0.118749,
		0.469869,
		-0.435173,
		-0.326988,
		-0.463511,
		0.356671,
		-0.41097,
		0.36177,
		-0.0652566,
		-0.152152,
		-0.27157,
		0.0350741,
		-0.365088,
		-0.0407069,
		-0.465086,
		-0.29734,
		0.0961564,
		0.111032,
		0.0535666,
		-0.440182,
		-0.117071,
		-0.0249013,
		-0.215186,
		-0.0161567,
		0.173642,
		0.076257,
		-0.3923,
		-0.417077,
		0.0984093,
		0.284254,
		0.203296,
		-0.21813,
		-0.131946,
		0.101107,
		0.0201309,
		-0.371379,
	};

	float Vector_of_bias_weights_training[64] =
	{
		0.333566,
		0.163778,
		-0.0994966,
		-0.453753,
		0.154188,
		-0.328748,
		0.451008,
		0.243459,
		-0.210878,
		-0.328566,
		-0.230232,
		0.188302,
		-0.458991,
		-0.4797,
		-0.298399,
		0.0672374,
		-0.108078,
		0.270775,
		-0.141467,
		0.0953512,
		0.0469041,
		0.0132188,
		-0.168119,
		0.434826,
		-0.198282,
		0.302683,
		0.106276,
		-0.300563,
		0.0742657,
		-0.0286343,
		-0.153215,
		0.119244,
		0.184907,
		-0.306311,
		-0.459619,
		0.47118,
		-0.0712652,
		0.0367216,
		0.251953,
		0.48026,
		-0.264082,
		-0.262289,
		0.430291,
		0.205081,
		-0.197715,
		0.463113,
		-0.0299045,
		0.0239904,
		-0.325327,
		0.131914,
		0.49808,
		-0.000311023,
		-0.198628,
		-0.0863841,
		0.429013,
		-0.0584739,
		-0.165164,
		-0.376989,
		0.0292012,
		-0.449122,
		0.0235031,
		-0.00225654,
		0.12219,
		0.375955,
	};

	// iterator
	int iter = 0;

	std::vector <float> Vector_of_neuron_values[66] = { };

	// input layer of neurons
	for (int i = 0; i <2; i++)
	{
		Vector_of_neuron_values[iter].push_back(0);
	}

	iter += 1;

	// hidden layers of neurons
	for (iter; iter <= 5; iter++)
	{
		for (int j = 0; j < Number_of_neurons_in_hidden_layers_ref[iter - 1]; j++)
		{
			Vector_of_neuron_values[iter].push_back(0);
		}
	}

	// output layer of neurons
	for (int i = 0; i < 1; i++)
	{
		Vector_of_neuron_values[iter].push_back(0);
	}

	Vector_of_neuron_values->shrink_to_fit();

	// capacity = amount of neurons
	for (int i = 0; i < Vector_of_neuron_values->capacity(); i++)
	{
		Vector_of_neuron_values[i].shrink_to_fit();
	}

	input[0] = (input[0]  - input_0_min) / (input_0_max -  input_0_min);
	input[1] = (input[1]  - input_1_min) / (input_1_max -  input_1_min);

	// Forward propagation

	// input layer
	for (int j = 0; j < 2; j++)
	{
		Vector_of_neuron_values[0][j] = input[j];
	}

	// hidden layers
	int it_weight = 0;
	int it_bias = 0;
	for (int k = 1; k < 5 + 1; k++)
	{
		for (int l = 0; l < Vector_of_neuron_values[k].capacity(); l++)
		{
			for (int m = 0; m < Vector_of_neuron_values[k - 1].capacity(); m++)
			{
				Vector_of_neuron_values[k][l] +=
				((Vector_of_neuron_values[k - 1][m] *
				Vector_of_weights_training[it_weight]));
				it_weight += 1;
			}

			Vector_of_neuron_values[k][l] = Unipolar_sigmoidal_function(
				Vector_of_neuron_values[k][l] +
				Vector_of_bias_weights_training[it_bias]);

			it_bias += 1;
		}
	}
	// output layer
	int it_prev_layer = 1 + 5;

	for (int n = 0; n < 1; n++)
	{
		for (int o = 0; o < Vector_of_neuron_values[it_prev_layer - 1].capacity(); o++)
		{
			Vector_of_neuron_values[it_prev_layer][n] +=
			(
				(Vector_of_neuron_values[it_prev_layer - 1][o] * Vector_of_weights_training[it_weight])
			);

			it_weight += 1;
		}

		Vector_of_neuron_values[it_prev_layer][n] = Unipolar_sigmoidal_function
		(
			Vector_of_neuron_values[it_prev_layer][n] +
			Vector_of_bias_weights_training[it_bias]
		);

		it_bias += 1;
	}

	output[0] = Vector_of_neuron_values[it_prev_layer][0];

	output[0] = output[0]  * (output_0_max - output_0_min) +  output_0_min;
	std::cout << "output[0] = " << output[0] << std::endl;

	return 0;
}
